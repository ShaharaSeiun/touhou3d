import React, { useEffect, useRef } from 'react'
import { MAX_BOMBS } from '../../../utils/Constants'
import { addBomb, removeBomb } from '../../gameLogic/StaticRefs';
import { useName } from '../../hooks/useName';

export const InvulnerabilityField = ({radius}) => {
    const transformNodeRef = useRef();
    const name = useName("invulnerabilityField")

    useEffect(() => {
        addBomb(MAX_BOMBS - 1, transformNodeRef.current.getAbsolutePosition(), radius)

        return () => {
            removeBomb(MAX_BOMBS - 1)
        }
    }, [])

    return <transformNode name={name} ref={transformNodeRef} />
}
